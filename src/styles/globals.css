/* ═══════════════════════════════════════════════════════════════════════════
   GLOBAL STYLES - Retro Terminal Portfolio
   A CRT phosphor green aesthetic with scanlines, flicker, and glow effects
   ═══════════════════════════════════════════════════════════════════════════ */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ═══════════════════════════════════════════════════════════════════════════
   CSS CUSTOM PROPERTIES
   Easily customize the entire color scheme from here
   ═══════════════════════════════════════════════════════════════════════════ */

:root {
  /* Terminal colors - Dark mode (Osaka Jade theme) */
  --color-bg: #1a2421;
  --color-bg-secondary: #232f2b;
  --color-text: #7ec699;
  --color-text-dim: #5a9a78;
  --color-text-muted: #3d6b54;
  --color-accent: #98d4b1;
  --color-accent-secondary: #c4a35a;
  --color-border: #7ec699;
  --color-border-dim: #3d5347;
  --color-glow: rgba(126, 198, 153, 0.4);
  --color-glow-subtle: rgba(126, 198, 153, 0.15);
  
  /* Font stacks */
  --font-mono: 'IBM Plex Mono', 'JetBrains Mono', 'Fira Code', monospace;
  --font-display: 'Share Tech Mono', 'VT323', monospace;
  
  /* Timing */
  --transition-fast: 150ms;
  --transition-normal: 300ms;
  --transition-slow: 500ms;
  
  /* Spacing */
  --section-padding: 5rem;
  --container-max: 72rem;
}

/* Light mode (Clean Modern Paper aesthetic) */
.light {
  --color-bg: #f6f5dd;
  --color-bg-secondary: #dfe0c0;
  --color-text: #1c1917;
  --color-text-dim: #44403c;
  --color-text-muted: #78716c;
  --color-accent: #166534;
  --color-accent-secondary: #ea580c;
  --color-border: #292524;
  --color-border-dim: #b8b99f;
  --color-glow: rgba(22, 101, 52, 0.08);
  --color-glow-subtle: rgba(22, 101, 52, 0.04);
}

/* ═══════════════════════════════════════════════════════════════════════════
   BASE STYLES
   ═══════════════════════════════════════════════════════════════════════════ */

@layer base {
  * {
    border-color: var(--color-border-dim);
  }
  
  html {
    @apply scroll-smooth;
    scroll-padding-top: 5rem; /* Account for fixed navbar */
    font-size: 15px; /* Base font size */
  }
  
  /* Scale up for larger screens */
  @media (min-width: 1440px) {
    html {
      font-size: 16px;
    }
  }
  
  @media (min-width: 1920px) {
    html {
      font-size: 17px;
    }
  }
  
  body {
    @apply bg-terminal-black text-phosphor font-mono antialiased;
    background-color: var(--color-bg);
    color: var(--color-text);
    font-family: var(--font-mono);
    line-height: 1.6;
    overflow-x: hidden;
  }
  
  /* Light mode body */
  .light body,
  body.light {
    @apply bg-paper text-paper-ink;
  }
  
  /* Selection styling */
  ::selection {
    @apply bg-phosphor text-terminal-black;
  }
  
  .light ::selection {
    @apply bg-paper-accent text-paper;
  }
  
  /* Scrollbar styling - terminal themed */
  ::-webkit-scrollbar {
    @apply w-2;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-terminal-dark;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-phosphor-muted rounded-full;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-phosphor-dim;
  }
  
  .light ::-webkit-scrollbar-track {
    @apply bg-paper-dark;
  }
  
  .light ::-webkit-scrollbar-thumb {
    @apply bg-paper-accent;
  }
  
  /* Focus styles - visible for accessibility */
  :focus-visible {
    @apply outline-none ring-2 ring-phosphor ring-offset-2 ring-offset-terminal-black;
  }
  
  .light :focus-visible {
    @apply ring-paper-accent ring-offset-paper;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   TYPOGRAPHY
   ═══════════════════════════════════════════════════════════════════════════ */

@layer base {
  h1, h2, h3, h4, h5, h6 {
    @apply font-display font-bold tracking-tight;
    text-shadow: 0 0 10px var(--color-glow);
  }
  
  h1 {
    @apply text-5xl md:text-6xl lg:text-7xl;
  }
  
  h2 {
    @apply text-3xl md:text-4xl lg:text-5xl;
  }
  
  h3 {
    @apply text-2xl md:text-3xl;
  }
  
  p {
    @apply text-base md:text-lg leading-relaxed;
  }
  
  a {
    @apply text-cyan hover:text-cyan-dim transition-colors duration-200;
  }
  
  .light a {
    @apply text-paper-accent hover:text-paper-ink;
  }
  
  code {
    @apply font-mono text-amber px-1 py-0.5 rounded bg-terminal-dark;
  }
  
  .light code {
    @apply text-paper-accent bg-paper-dark;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   UTILITY CLASSES
   ═══════════════════════════════════════════════════════════════════════════ */

@layer utilities {
  /* Text glow effect */
  .text-glow {
    text-shadow: 
      0 0 5px var(--color-glow),
      0 0 10px var(--color-glow),
      0 0 20px var(--color-glow-subtle);
  }
  
  .text-glow-strong {
    text-shadow: 
      0 0 5px var(--color-glow),
      0 0 10px var(--color-glow),
      0 0 20px var(--color-glow),
      0 0 40px var(--color-glow-subtle);
  }
  
  /* Box glow effect */
  .box-glow {
    box-shadow: 
      0 0 10px var(--color-glow-subtle),
      0 0 20px var(--color-glow-subtle),
      inset 0 0 20px var(--color-glow-subtle);
  }
  
  /* Border glow */
  .border-glow {
    box-shadow: 0 0 10px var(--color-glow-subtle);
  }
  
  /* Terminal cursor */
  .cursor-blink::after {
    content: '█';
    @apply animate-blink ml-0.5;
  }
  
  .cursor-underscore::after {
    content: '_';
    @apply animate-blink;
  }
  
  /* Typewriter container */
  .typewriter {
    @apply overflow-hidden whitespace-nowrap;
    border-right: 2px solid var(--color-text);
    animation: 
      typing 2s steps(30) forwards,
      blink-caret 0.75s step-end infinite;
  }
  
  @keyframes blink-caret {
    50% { border-color: transparent; }
  }
  
  /* Container utility */
  .container-terminal {
    @apply max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 2xl:max-w-7xl;
  }
  
  /* Section spacing */
  .section-padding {
    @apply py-16 md:py-20 lg:py-24;
  }
  
  /* Gradient text */
  .gradient-text {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-phosphor to-cyan;
  }
  
  /* No scrollbar utility */
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  
  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   CRT EFFECTS
   Scanlines, flicker, noise - the full retro experience
   ═══════════════════════════════════════════════════════════════════════════ */

/* Scanlines overlay */
.crt-scanlines::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.1) 2px,
    rgba(0, 0, 0, 0.1) 4px
  );
  pointer-events: none;
  z-index: 9998;
}

/* Horizontal scanline that moves */
.crt-scanlines::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 4px;
  background: rgba(126, 198, 153, 0.08);
  animation: scanline-move 6s linear infinite;
  pointer-events: none;
  z-index: 9998;
}

@keyframes scanline-move {
  0% { top: 0; }
  100% { top: 100vh; }
}

/* CRT screen flicker */
.crt-flicker {
  animation: flicker 8s infinite;
}

@keyframes flicker {
  0%, 100% { opacity: 1; }
  92% { opacity: 1; }
  93% { opacity: 0.9; }
  94% { opacity: 1; }
  97% { opacity: 0.95; }
  98% { opacity: 1; }
}

/* Noise/grain texture overlay */
.crt-noise::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  opacity: 0.03;
  pointer-events: none;
  z-index: 9997;
}

/* CRT screen curve effect (subtle) */
.crt-curve {
  position: relative;
}

.crt-curve::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    transparent 70%,
    rgba(0, 0, 0, 0.3) 100%
  );
  pointer-events: none;
  z-index: 9996;
}

/* Phosphor glow on text elements */
.phosphor-text {
  color: #7ec699;
  text-shadow: 
    0 0 2px #7ec699,
    0 0 5px rgba(126, 198, 153, 0.5),
    0 0 10px rgba(126, 198, 153, 0.3);
}

/* Screen on/off animation */
@keyframes screen-on {
  0% {
    transform: scaleY(0.01) scaleX(0.5);
    filter: brightness(10);
  }
  20% {
    transform: scaleY(0.01) scaleX(1);
  }
  50% {
    transform: scaleY(1) scaleX(1);
    filter: brightness(1);
  }
  100% {
    transform: scaleY(1) scaleX(1);
    filter: brightness(1);
  }
}

.screen-on {
  animation: screen-on 0.5s cubic-bezier(0.2, 0, 0.2, 1) forwards;
}

/* Light mode - disable CRT effects */
.light .crt-scanlines::before,
.light .crt-scanlines::after,
.light .crt-noise::before,
.light .crt-curve::before {
  display: none;
}

.light .crt-flicker {
  animation: none;
}

.light .phosphor-text {
  text-shadow: none;
}

/* ═══════════════════════════════════════════════════════════════════════════
   TERMINAL WINDOW STYLES
   ═══════════════════════════════════════════════════════════════════════════ */

.terminal-window {
  @apply border border-phosphor-muted rounded-lg overflow-hidden;
  background: rgba(13, 17, 23, 0.8);
  box-shadow: 
    0 0 1px rgba(126, 198, 153, 0.3),
    inset 0 0 30px rgba(126, 198, 153, 0.02);
}

.terminal-window-header {
  @apply flex items-center gap-2 px-4 py-2 border-b border-phosphor-muted;
  background: rgba(126, 198, 153, 0.05);
}

.terminal-window-title {
  @apply text-sm text-phosphor-dim font-mono;
}

.terminal-window-content {
  @apply p-4 md:p-6;
}

/* Light mode terminal window */
.light .terminal-window {
  @apply border-paper-ink bg-paper;
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.1);
}

.light .terminal-window-header {
  @apply border-paper-ink bg-paper-dark;
}

.light .terminal-window-title {
  @apply text-paper-ink;
}

/* ═══════════════════════════════════════════════════════════════════════════
   BUTTON STYLES
   ═══════════════════════════════════════════════════════════════════════════ */

.btn-terminal {
  @apply relative inline-flex items-center justify-center px-6 py-3;
  @apply font-mono text-sm uppercase tracking-wider;
  @apply border-2 border-phosphor text-phosphor;
  @apply bg-transparent transition-all duration-300;
  @apply hover:bg-phosphor hover:text-terminal-black;
  @apply focus:outline-none focus:ring-2 focus:ring-phosphor focus:ring-offset-2 focus:ring-offset-terminal-black;
}

.btn-terminal::before {
  content: '> ';
}

.btn-terminal:hover {
  box-shadow: 
    0 0 10px rgba(126, 198, 153, 0.4),
    0 0 20px rgba(126, 198, 153, 0.2);
}

/* Light mode button */
.light .btn-terminal {
  @apply border-paper-ink text-paper-ink;
  @apply hover:bg-paper-ink hover:text-paper;
  @apply focus:ring-paper-accent focus:ring-offset-paper;
}

.light .btn-terminal:hover {
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.2);
}

/* ═══════════════════════════════════════════════════════════════════════════
   LINK STYLES
   ═══════════════════════════════════════════════════════════════════════════ */

.link-terminal {
  @apply relative inline-block text-cyan;
  @apply transition-all duration-200;
}

.link-terminal::after {
  content: '_';
  @apply animate-blink;
}

.link-terminal:hover {
  text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

/* Underline animation on hover */
.link-underline {
  @apply relative;
}

.link-underline::before {
  content: '';
  @apply absolute bottom-0 left-0 w-0 h-px bg-current;
  @apply transition-all duration-300;
}

.link-underline:hover::before {
  @apply w-full;
}

/* ═══════════════════════════════════════════════════════════════════════════
   PROGRESS BAR STYLES (for skills)
   ═══════════════════════════════════════════════════════════════════════════ */

.progress-terminal {
  @apply h-4 bg-terminal-dark border border-phosphor-muted rounded-sm overflow-hidden;
}

.progress-terminal-fill {
  @apply h-full bg-phosphor transition-all duration-1000 ease-out;
  box-shadow: 0 0 10px rgba(126, 198, 153, 0.4);
}

.light .progress-terminal {
  @apply bg-paper-dark border-paper-ink;
}

.light .progress-terminal-fill {
  @apply bg-paper-accent;
  box-shadow: none;
}

/* ASCII-style progress bar */
.progress-ascii {
  @apply font-mono text-sm;
}

/* ═══════════════════════════════════════════════════════════════════════════
   CARD STYLES
   ═══════════════════════════════════════════════════════════════════════════ */

.card-terminal {
  @apply border border-phosphor-muted rounded-lg p-4 md:p-6;
  @apply bg-terminal-dark/50 backdrop-blur-sm;
  @apply transition-all duration-300;
}

.card-terminal:hover {
  @apply border-phosphor;
  box-shadow: 
    0 0 20px rgba(126, 198, 153, 0.1),
    inset 0 0 30px rgba(126, 198, 153, 0.03);
}

.light .card-terminal {
  @apply bg-paper border-paper-ink/30;
}

.light .card-terminal:hover {
  @apply border-paper-ink;
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.1);
}

/* ═══════════════════════════════════════════════════════════════════════════
   BADGE STYLES
   ═══════════════════════════════════════════════════════════════════════════ */

.badge-terminal {
  @apply inline-flex items-center px-2 py-1 text-xs font-mono;
  @apply border border-phosphor-muted text-phosphor-dim;
  @apply rounded-sm bg-terminal-dark/50;
}

.badge-terminal:hover {
  @apply border-phosphor text-phosphor;
}

.light .badge-terminal {
  @apply border-paper-ink/50 text-paper-ink bg-paper-dark;
}

/* ═══════════════════════════════════════════════════════════════════════════
   ANIMATIONS
   ═══════════════════════════════════════════════════════════════════════════ */

/* Staggered fade in for lists */
.stagger-fade-in > * {
  @apply opacity-0;
  animation: fade-in 0.5s ease-out forwards;
}

.stagger-fade-in > *:nth-child(1) { animation-delay: 0.1s; }
.stagger-fade-in > *:nth-child(2) { animation-delay: 0.2s; }
.stagger-fade-in > *:nth-child(3) { animation-delay: 0.3s; }
.stagger-fade-in > *:nth-child(4) { animation-delay: 0.4s; }
.stagger-fade-in > *:nth-child(5) { animation-delay: 0.5s; }
.stagger-fade-in > *:nth-child(6) { animation-delay: 0.6s; }
.stagger-fade-in > *:nth-child(7) { animation-delay: 0.7s; }
.stagger-fade-in > *:nth-child(8) { animation-delay: 0.8s; }

@keyframes fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Glitch effect */
.glitch {
  position: relative;
}

.glitch:hover {
  animation: glitch 0.3s ease-in-out;
}

@keyframes glitch {
  0% { transform: translate(0); }
  20% { transform: translate(-2px, 2px); }
  40% { transform: translate(-2px, -2px); }
  60% { transform: translate(2px, 2px); }
  80% { transform: translate(2px, -2px); }
  100% { transform: translate(0); }
}

/* Boot sequence line animation */
.boot-line {
  @apply opacity-0;
  animation: boot-line 0.05s ease-out forwards;
}

@keyframes boot-line {
  from { opacity: 0; transform: translateX(-10px); }
  to { opacity: 1; transform: translateX(0); }
}

/* ═══════════════════════════════════════════════════════════════════════════
   LIGHT MODE OVERRIDES
   Force light mode colors for all terminal/phosphor themed elements
   ═══════════════════════════════════════════════════════════════════════════ */

/* Background overrides */
.light,
.light body,
.light .bg-terminal-black,
.light .bg-terminal-dark,
.light .bg-terminal-dark\/50,
.light .bg-terminal-dark\/80,
.light [class*="bg-terminal"] {
  background-color: var(--color-bg) !important;
}

.light .bg-terminal-dark\/50,
.light .bg-terminal-dark\/30 {
  background-color: var(--color-bg-secondary) !important;
}

/* Text color overrides */
.light .text-phosphor,
.light .text-phosphor-bright,
.light [class*="text-phosphor"]:not(.text-phosphor-muted):not(.text-phosphor-dim) {
  color: var(--color-accent) !important;
}

.light .text-phosphor-dim {
  color: var(--color-text-dim) !important;
}

.light .text-phosphor-muted {
  color: var(--color-text-muted) !important;
}

.light .text-cyan,
.light .text-cyan-dim {
  color: var(--color-accent) !important;
}

.light .text-amber,
.light .text-amber-dim {
  color: var(--color-accent-secondary) !important;
}

/* Border overrides */
.light .border-phosphor,
.light .border-phosphor-muted,
.light [class*="border-phosphor"] {
  border-color: var(--color-border) !important;
}

.light .border-phosphor-muted\/30,
.light .border-phosphor-muted\/50 {
  border-color: var(--color-border-dim) !important;
}

/* Hover state overrides */
.light .hover\:text-phosphor:hover,
.light .hover\:border-phosphor:hover,
.light .group:hover .group-hover\:text-phosphor {
  color: var(--color-accent) !important;
}

.light .hover\:bg-phosphor:hover {
  background-color: var(--color-accent) !important;
}

.light .hover\:bg-phosphor\/10:hover {
  background-color: rgba(22, 101, 52, 0.1) !important;
}

.light .bg-phosphor\/10,
.light .bg-phosphor\/20 {
  background-color: rgba(22, 101, 52, 0.1) !important;
}

/* Remove glow effects in light mode */
.light .text-glow,
.light .text-glow-strong,
.light .hover\:text-glow:hover,
.light .group-hover\:text-glow {
  text-shadow: none !important;
}

.light .box-glow,
.light .border-glow,
.light .shadow-glow,
.light .shadow-glow-lg {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
}

/* Card and panel overrides */
.light .card-terminal,
.light [class*="bg-terminal"][class*="border"] {
  background-color: var(--color-bg) !important;
  border-color: var(--color-border-dim) !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08) !important;
}

.light .card-terminal:hover {
  border-color: var(--color-border) !important;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1) !important;
}

/* Backdrop blur panels */
.light .backdrop-blur-sm {
  background-color: rgba(254, 253, 251, 0.9) !important;
}

/* Fix for App.tsx main container */
.light .min-h-screen.bg-terminal-black {
  background-color: var(--color-bg) !important;
}

/* Gradient text in light mode */
.light .gradient-text {
  background: linear-gradient(to right, var(--color-accent), var(--color-accent-secondary)) !important;
  -webkit-background-clip: text !important;
  background-clip: text !important;
}

/* Dialog/Modal overrides */
.light .bg-terminal-black\/80 {
  background-color: rgba(254, 253, 251, 0.8) !important;
}

.light .bg-terminal-dark {
  background-color: var(--color-bg) !important;
}

/* Progress bar overrides */
.light .progress-terminal,
.light .bg-terminal-dark.border {
  background-color: var(--color-bg-secondary) !important;
  border-color: var(--color-border-dim) !important;
}

.light .progress-terminal-fill,
.light .bg-phosphor {
  background-color: var(--color-accent) !important;
}

/* Badge overrides */
.light .badge-terminal {
  background-color: var(--color-bg-secondary) !important;
  border-color: var(--color-border-dim) !important;
  color: var(--color-text-dim) !important;
}

.light .badge-terminal:hover {
  border-color: var(--color-border) !important;
  color: var(--color-text) !important;
}

/* Button overrides */
.light .btn-terminal {
  border-color: var(--color-border) !important;
  color: var(--color-text) !important;
}

.light .btn-terminal:hover {
  background-color: var(--color-accent) !important;
  border-color: var(--color-accent) !important;
  color: var(--color-bg) !important;
}

/* Ensure all section backgrounds use the main bg color */
.light .bg-terminal-dark\/30,
.light .bg-terminal-dark\/50,
.light .bg-terminal-dark\/80 {
  background-color: var(--color-bg) !important;
}

/* Project card overrides - must come after bg-terminal-dark rules */
.light .project-card,
.light .project-card.bg-terminal-dark\/50 {
  background-color: var(--color-bg-secondary) !important;
  border-color: var(--color-border-dim) !important;
}

.light .project-card:hover {
  background-color: var(--color-bg-secondary) !important;
  border-color: var(--color-border) !important;
}
